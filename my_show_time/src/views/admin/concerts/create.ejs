<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create New Concert</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body>

<%- include('../../partials/header'); %>
<div class="max-w-3xl mx-auto my-10">
    <div class="mb-6">
        <h1 class="text-lg md:text-2xl font-bold text-[#FF214F]">Create New Concert</h1>
    </div>

    <div class="bg-white rounded-xl shadow p-6">
        <form action="/concerts" method="POST" class="space-y-4">

            <div>
                <label class="text-gray-800 text-sm font-medium block mb-1.5">Concert Name *</label>
                <input name="title"
                    class="w-full h-11 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F]"
                    type="text" placeholder="Summer Music Festival 2025" required />
            </div>

            <div>
                <label class="text-gray-800 text-sm font-medium block mb-1.5">Description</label>
                <textarea name="description" rows="3"
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F]"
                    placeholder="Concert description..."></textarea>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="text-gray-800 text-sm font-medium block mb-1.5">Genre *</label>
                    <select name="genre"
                        class="cursor-pointer w-full h-11 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F] cursor-pointer"
                        required>
                        <option value="">Select genre</option>
                        <option value="ROCK">Rock</option>
                        <option value="POP">Pop</option>
                        <option value="JAZZ">Jazz</option>
                        <option value="ELECTRONIC">Electronic</option>
                        <option value="HIP_HOP">Hip Hop</option>
                        <option value="CLASSICAL">Classical</option>
                        <option value="METAL">Metal</option>
                        <option value="INDIE">Indie</option>
                        <option value="OTHER">Other</option>
                    </select>
                </div>

                <div>
                    <label class="text-gray-800 text-sm font-medium block mb-1.5">Date & Time *</label>
                    <input name="date"
                        class="w-full h-11 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F] cursor-pointer"
                        type="datetime-local" required />
                </div>
            </div>

            <div>
                <label class="text-gray-800 text-sm font-medium block mb-1.5">Location *</label>
                <input name="location"
                    class="w-full h-11 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F]"
                    type="text" placeholder="Stade de France, Paris" required />
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label class="text-gray-800 text-sm font-medium block mb-1.5">Price ($) *</label>
                    <input name="price"
                        class="w-full h-11 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F]"
                        type="number" step="0.01" min="0" placeholder="150.00" required />
                </div>

                <div>
                    <label class="text-gray-800 text-sm font-medium block mb-1.5">Total Seats *</label>
                    <input name="totalTickets"
                        class="w-full h-11 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F]"
                        type="number" min="1" placeholder="5000" required />
                </div>

                <div>
                    <label class="text-gray-800 text-sm font-medium block mb-1.5">Image URL</label>
                    <input name="imageUrl"
                        class="w-full h-11 px-4 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F]"
                        type="url" placeholder="https://..." />
                </div>
            </div>

            <div>
                <label class="text-gray-800 text-sm font-medium block mb-1.5">Bands (Select multiple)</label>
                <select name="groupIds" multiple
                    class="cursor-pointer w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#FF214F] cursor-pointer"
                    size="5">
                    <% if (bands && bands.length> 0) { %>
                        <% bands.forEach(band=> { %>
                            <option value="<%= band.id %>">
                                <%= band.name %> (<%= band.genre %>)
                            </option>
                            <% }); %>
                                <% } else { %>
                                    <option disabled>No bands available - Create bands first</option>
                                    <% } %>
                </select>
                <p class="text-xs text-gray-500 mt-1">Hold Ctrl/Cmd to select multiple bands</p>
            </div>

            <div class="flex gap-3 pt-4">
                <a href="/concerts/admin"
                    class="px-4 py-2 border border-[#FF214F] rounded-lg text-gray-700 hover:text-[#FF214F] hover:border-[#FF214F] hover:bg-gray-50 transition-colors">
                    Cancel
                </a>
                <button type="submit"
                    class="cursor-pointer px-4 py-2 bg-[#FF214F] hover:bg-[#f83159ff] text-white rounded-lg transition-colors">
                    Create Concert
                </button>
            </div>

        </form>
    </div>
</div>
    
</body>
</html>