<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-gray-50">
    <div class="min-h-screen flex flex-col lg:flex-row">
        <%- include('layouts/sidebar') %>

            <main class="flex-1 lg:ml-64 p-4 sm:p-6 overflow-y-auto">
                <%- body %>
            </main>
    </div>

    <script>
        // Helper function pour les modals
        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // Confirmation de suppression
        function confirmDelete(type, id, name) {
            if(confirm(`Êtes-vous sûr de vouloir supprimer ${type} "${name}" ?`)) {
                fetch(`/admin/${type}/${id}`, {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                })
                    .then(res => res.json())
                    .then(data => {
                        alert('Suppression réussie !');
                        location.reload();
                    })
                    .catch(err => {
                        alert('Erreur lors de la suppression');
                        console.error(err);
                    });
            }
        }
    </script>
</body>
</html>